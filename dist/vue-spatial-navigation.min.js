var VueSpatialNavigation=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,s=!1,o=void 0;try{for(var d,r=e[Symbol.iterator]();!(i=(d=r.next()).done)&&(n.push(d.value),!t||n.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=new(n(t).default),r=!1,a=[],l={37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},u=function(e){if(r){var t=a.findIndex((function(t){return t.id===e.id}));t>-1?a[t]=e:a.push(e)}else r=!0,a.push(e),window.addEventListener("keydown",(function(e){a.forEach((function(t){if(!t.preCondition||t.preCondition())return t[l[e.keyCode]]&&t[l[e.keyCode]]()}))}))},c=function(e){var t=a.findIndex((function(t){return t.id===e}));t>-1&&a.splice(t,1)},h={name:"FocusableGrid",props:{onSettled:{type:Function,required:!1},child:{type:Object,required:!0},items:{type:Array,required:!0},isFocused:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},shouldScroll:{type:Boolean,default:!1},maxColumn:{type:Number,default:6},id:{default:Math.random().toString()}},data:function(){return{focusedIndex:0,scrollAmount:0,activeRow:0,activeColumn:0,width:0}},computed:{columns:function(){return{width:"".concat(100/this.maxColumn,"%"),height:"".concat(this.width/this.maxColumn/16*9,"px")}},style:function(){return{top:"".concat(this.scrollAmount,"px")}},filteredItems:function(){var e=this;return this.items.filter((function(t,n){return e.showItem(t,n)}))}},methods:{showItem:function(e,t){return t>=this.activeRow*this.maxColumn&&t<=this.focusedIndex+this.maxColumn*this.maxColumn-this.activeColumn+this.maxColumn-1&&e},getScrollAmount:function(e,t){if(e){var n=e.clientHeight;return t?-n:n}return 0},isPrevColumnPresent:function(){return this.focusedIndex>0&&this.activeColumn>0},isNextColumnPresent:function(){return this.focusedIndex<this.items.length-1&&this.activeColumn<this.maxColumn-1},isPrevRowPresent:function(){return this.focusedIndex>0&&this.activeRow>0},isNextRowPresent:function(){return this.focusedIndex<this.items.length-1&&this.activeRow<this.items.length/this.maxColumn-1},updateColumn:function(e){var t=e?-1:1;this.focusedIndex+=t,this.activeColumn+=t},updateRow:function(e){var t=e?-this.maxColumn:this.maxColumn,n=e?-1:1;this.focusedIndex+=t,this.activeRow+=n,this.isFocusIndexOutOfBound()&&(this.focusedIndex=this.items.length-1,this.activeColumn=(this.items.length-1)%this.maxColumn)},isFocusIndexOutOfBound:function(){return this.focusedIndex>this.items.length-1},updateScrollValue:function(e){this.scrollAmount+=this.getScrollAmount(this.$refs.childItem[this.focusedIndex],e)},handleFocusLost:function(){this.focusedIndex>this.items.length-1&&(this.focusedIndex=this.items.length-1)},resetFocus:function(e){!e.force&&this.isFocused||(this.focusedIndex=0,this.activeColumn=0,this.activeRow=0,this.scrollAmount=0)},onSettledFunction:function(e){this.onSettled&&this.onSettled(e)},onMainScrollWeel:function(e){e.preventDefault(),this.isKeyPress||(e.deltaY<0||e.deltaY>0)&&(e.deltaY>0&&this.isNextRowPresent()?(this.updateRow(),this.updateScrollValue("negative")):e.deltaY<0&&this.isPrevRowPresent()&&(this.updateRow("reverse"),this.updateScrollValue()))}},updated:function(){this.handleFocusLost()},mounted:function(){var e=this;this.width=this.$el.clientWidth,this.$el.addEventListener("wheel",this.onMainScrollWeel),u({LEFT:function(){e.isPrevColumnPresent()?e.updateColumn("reverse"):e.onSettledFunction("LEFT")},RIGHT:function(){e.isNextColumnPresent()?e.updateColumn():e.onSettledFunction("RIGHT")},UP:function(){e.isPrevRowPresent()?(e.updateRow("reverse"),e.shouldScroll&&e.updateScrollValue()):e.onSettledFunction("UP")},DOWN:function(){e.isNextRowPresent()?(e.updateRow(),e.shouldScroll&&e.updateScrollValue("negative")):e.onSettledFunction("DOWN")},preCondition:function(){return e.isFocused&&!e.disabled},id:"grid-".concat(this.id)}),d.on("RESET_FOCUS",this.resetFocus)},destroyed:function(){this.$el.removeEventListener("wheel",this.onMainScrollWeel),c("grid-".concat(this.id)),d.off("RESET_FOCUS",this.resetFocus)}};function f(e,t,n,i,s,o,d,r,a,l){"boolean"!=typeof d&&(a=r,r=d,d=!1);const u="function"==typeof n?n.options:n;let c;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,s&&(u.functional=!0)),i&&(u._scopeId=i),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):t&&(c=d?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),c)if(u.functional){const e=u.render;u.render=function(t,n){return c.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,c):[c]}return n}const m="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function v(e){return(e,t)=>function(e,t){const n=m?t.media||"default":e,i=x[n]||(x[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===p&&(p=document.head||document.getElementsByTagName("head")[0]),p.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,t=document.createTextNode(n),s=i.element.childNodes;s[e]&&i.element.removeChild(s[e]),s.length?i.element.insertBefore(t,s[e]):i.element.appendChild(t)}}}(e,t)}let p;const x={};var I=f({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"focusableGrid"},[n("transition-group",{ref:"grid",staticClass:"grid",class:{focus:e.isFocused},attrs:{name:"list",tag:"div"}},e._l(e.filteredItems,(function(t,i){return n("div",{key:t.id,ref:"childItem",refInFor:!0,staticClass:"child",style:e.columns},[n(e.child,e._b({tag:"component",attrs:{id:"child"+(t.id||i),isFocused:e.isFocused&&i===e.activeColumn}},"component",t,!1))],1)})),0)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-14172eab_0",{source:".focusableGrid[data-v-14172eab]{width:100%;height:100%}.grid[data-v-14172eab]{display:flex;height:100%;flex-wrap:wrap;align-content:flex-start;position:relative}.child[data-v-14172eab]{display:flex;align-items:stretch}.list-enter-active[data-v-14172eab],.list-leave-active[data-v-14172eab]{transition:all .15s ease}.list-enter[data-v-14172eab],.list-leave-to[data-v-14172eab]{height:0!important;z-index:10;border-color:transparent}.list-leave-to .focus[data-v-14172eab]{border-color:transparent}",map:void 0,media:void 0})}),h,"data-v-14172eab",!1,void 0,!1,v,void 0,void 0),b=f({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"focusableList"},[e.title?n("h3",[e._v(e._s(e.title))]):e._e(),e._v(" "),n("transition-group",{ref:"list",staticClass:"list",class:[{vertical:"VERTICAL"===e.orientation}],style:e.style,attrs:{name:"VERTICAL"===e.orientation?"slide-vertical":"slide-horizontal"}},e._l(e.filterList,(function(t,i){return n("div",{key:"child-"+(t.id||i),ref:"childItem",refInFor:!0,staticClass:"child",class:[{focus:e.isFocused&&(e.hideItems&&e.nested?0===i:i===e.focusedIndex)},{ready:e.ready}]},[n(e.child,e._b({key:"nested-"+t.id,tag:"component",class:{disabled:e.disabledIndex.includes(i)},attrs:{id:"child-"+t.id,isFocused:e.isFocused&&(e.hideItems&&e.nested?0===i:i===e.focusedIndex),disabled:t.disabled||e.disabledIndex.includes(i)}},"component",t,!1))],1)})),0)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-19c3b7e0_0",{source:".focusableList[data-v-19c3b7e0]{height:100%;width:100%}h3[data-v-19c3b7e0]{color:#fff;text-align:left;margin:32px 0 16px;font-size:1.6vmax}.list[data-v-19c3b7e0]{display:flex;position:relative}.child[data-v-19c3b7e0]{display:flex}.show[data-v-19c3b7e0]{opacity:1;visibility:visible}.vertical[data-v-19c3b7e0]{flex-direction:column}.disabled[data-v-19c3b7e0]{background:grey}.slide-vertical-enter[data-v-19c3b7e0],.slide-vertical-leave-to[data-v-19c3b7e0]{margin-bottom:-277px;transform:translateY(-100%);opacity:0}.slide-horizontal-enter-active[data-v-19c3b7e0],.slide-horizontal-leave-active[data-v-19c3b7e0]{position:relative;z-index:-1}.slide-horizontal-enter[data-v-19c3b7e0],.slide-horizontal-leave-to[data-v-19c3b7e0]{margin-right:-16vw;transform:translateX(-150%)}.ready[data-v-19c3b7e0]{transition:all .15s ease}",map:void 0,media:void 0})}),{name:"focusableList",props:{hideItems:{type:Boolean,default:!1},nested:{type:Boolean,default:!1},onSettled:{type:Function,required:!1},onChildChange:{type:Function,required:!1},child:{type:Object,required:!0},title:{type:String,require:!1},items:{type:Array,required:!0},isFocused:{type:Boolean,default:!1},defaultIndex:{type:Number,default:-1},disabled:{type:Boolean,default:!1},disabledIndex:{type:Array,default:function(){return[-1]}},orientation:{type:String,default:"HORIZONTAL"},shouldScroll:{type:Boolean,default:!1},displayItems:{type:Number,default:4},id:{default:Math.random().toString()}},data:function(){return{focusedIndex:-1,scrollAmount:0,ready:!1}},computed:{style:function(){return this.hideItems?"":("VERTICAL"===this.orientation?"top":"left")+": ".concat(this.scrollAmount,"px;")},filterList:function(){var e=this;return this.items.filter((function(t,n){return e.showItem(t,n)}))}},methods:{showItem:function(e,t){return!this.hideItems||!this.nested||t>=this.focusedIndex&&t<+this.displayItems+this.focusedIndex},isEnabledIndex:function(e){return!this.disabledIndex.includes(e)},setInitialvalue:function(){this.defaultIndex>-1&&this.defaultIndex<this.items.length&&this.isEnabledIndex(this.defaultIndex)?this.focusedIndex=this.defaultIndex:this.focusedIndex=this.getValidNextIndex(),this.focusedIndex>=-1&&this.updateScrollValue()},getKeysByOrientation:function(e){return{REVERSE:"VERTICAL"===e?"UP":"LEFT",FORWARD:"VERTICAL"===e?"DOWN":"RIGHT"}},getScrollAmountByOrientation:function(e,t){return e?-e["VERTICAL"===t?"clientHeight":"clientWidth"]:0},handleFocusLost:function(){(this.focusedIndex>this.items.length-1||this.disabledIndex.includes(this.focusedIndex))&&(this.getValidPrevIndex()!==this.focusedIndex?(this.$emit("onFocusLost",{prevIndex:this.focusedIndex,newIndex:this.getValidPrevIndex()}),this.focusedIndex=this.getValidPrevIndex()):this.getValidNextIndex()!==this.focusedIndex?(this.$emit("onFocusLost",{prevIndex:this.focusedIndex,newIndex:this.getValidNextIndex()}),this.focusedIndex=this.getValidNextIndex()):(this.focusedIndex=-1,this.$emit("onFocusLost",{err:"No items to set focus, either disable it or provide new item to setFocus"})))},isPrevItemPresent:function(){return this.focusedIndex>0},isNextItemPresent:function(){return this.focusedIndex<this.items.length-1},getValidNextIndex:function(){for(var e=this.focusedIndex+1,t=this.focusedIndex;e<this.items.length;){if(this.isEnabledIndex(e)){t=e,this.$emit("onFocusChange",{prevIndex:this.focusedIndex,newIndex:t,item:this.items[t]}),this.onChildChangeFunction(this.focusedIndex,t,this.items[t]);break}e++}return t},getValidPrevIndex:function(){for(var e=this.focusedIndex-1,t=this.focusedIndex;e>=0;){if(this.isEnabledIndex(e)&&e<this.items.length){t=e,this.$emit("onFocusChange",{prevIndex:this.focusedIndex,newIndex:t,item:this.items[t]}),this.onChildChangeFunction(this.focusedIndex,t,this.items[t]);break}e--}return t},updateFocus:function(e){this.focusedIndex=e?this.getValidPrevIndex():this.getValidNextIndex()},onChildChangeFunction:function(e,t,n){this.ready&&this.onChildChange&&this.onChildChange({prevIndex:e,newIndex:t,item:n})},updateScrollValue:function(){this.shouldScroll&&this.$refs.childItem&&(this.scrollAmount=this.getScrollAmountByOrientation(this.$refs.childItem[0],this.orientation)*this.focusedIndex)},resetFocus:function(e){!e.force&&this.isFocused||(this.focusedIndex=0,this.scrollAmount=0)},setExternalFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=e.id;n===this.id&&(this.isEnabledIndex(t)&&t>=0&&t<this.items.length-1?(this.focusedIndex=t,this.updateScrollValue()):console.error("focus to the given index ".concat(t," is not possible")))},onSettledFunction:function(e){this.ready&&this.onSettled&&this.onSettled(e)}},updated:function(){this.handleFocusLost()},mounted:function(){var e,t=this;this.setInitialvalue();var n=this.getKeysByOrientation(this.orientation),s=this.getKeysByOrientation(!this.orientation);u((i(e={id:"list-".concat(this.id)},s.REVERSE,(function(){"VERTICAL"!=t.orientation||t.nested||t.onSettledFunction(s.REVERSE)})),i(e,s.FORWARD,(function(){"VERTICAL"!=t.orientation||t.nested||t.onSettledFunction(s.FORWARD)})),i(e,n.REVERSE,(function(){t.isPrevItemPresent()?(t.updateFocus("reverse"),t.updateScrollValue()):t.onSettledFunction(n.REVERSE)})),i(e,n.FORWARD,(function(){t.isNextItemPresent()?(t.updateFocus(),t.updateScrollValue()):t.onSettledFunction(n.FORWARD)})),i(e,"preCondition",(function(){return t.isFocused&&!t.disabled})),e)),d.on("RESET_FOCUS",this.resetFocus),d.on("SET_FOCUS",this.setExternalFocus),this.ready=!0},destroyed:function(){c("list-".concat(this.id)),d.off("RESET_FOCUS",this.resetFocus),d.off("SET_FOCUS",this.setExternalFocus)}},"data-v-19c3b7e0",!1,void 0,!1,v,void 0,void 0),y=Object.freeze({__proto__:null,FocusableList:b,FocusableGrid:I}),g=function(e){g.installed||(g.installed=!0,Object.entries(y).forEach((function(t){var n=s(t,2),i=n[0],o=n[1];console.error("componentName",i),e.component(i,o)})))},C={install:g},F=null;return"undefined"!=typeof window?F=window.Vue:"undefined"!=typeof global&&(F=global.Vue),F&&F.use(C),e.FocusableGrid=I,e.FocusableList=b,e.default=C,e}({},mitt);